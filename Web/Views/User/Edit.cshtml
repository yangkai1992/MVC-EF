@model Model.User

<section class="content">
    <div class="row">
        <div class="col-md-12">
            @using (Html.BeginForm("Edit", "User", FormMethod.Post, new { enctype = "multipart/form-data" }))
            {
                <div class="box box-primary">
                    <div class="box-body">
                        <p>基本信息</p>
                        <div class="col-md-10">
                            @Html.HiddenFor(m => m.Id)
                            <div class="form-horizontal">
                                <table class="editing-tab table-2-column">
                                    <tr>
                                        <th><label class="control-label">用户名：</label></th>
                                        <td>@Html.TextBoxFor(m => m.UserName, new { @class = "form-control" }) 
                                            @Html.ValidationMessageFor(m=>m.UserName)
                                        </td>
                                        <th><label class="control-label">账号：</label></th>
                                        <td>@Html.TextBoxFor(m => m.Account, new { @class = "form-control",@readonly=true })</td>
                                    </tr>
                                    <tr>
                                        <th><label class="control-label">邮箱：</label></th>
                                        <td>@Html.TextBoxFor(m => m.Email, new { @class = "form-control" })
                                            @Html.ValidationMessageFor(m => m.Email)
                                        </td>
                                        <th><label class="control-label">注册时间：</label></th>
                                        <td>@Html.TextBoxFor(m => m.CreateTime, new { @class = "form-control", disabled = "disabled" })
                                        </td>
                                    </tr>
                                    <tr>
                                        <th><label class="control-label">手机号：</label></th>
                                        <td><input class="form-control" value="" /></td>
                                        <th></th>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td style="text-align:center" colspan="4">
                                            <button type="submit" class="btn btn-info">保存</button>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <img id="headImage" class="profile-user-img img-responsive img-circle" src="@Model.HeadImage" />
                        </div>

                        <div style="text-align:center;margin-top:20px" class="col-md-2">
                            <input id="FU_fileInput" name="newHeadImage" type="file" style=" display:none;"/>
                            <button type="button" id="FU_btnFileInput" style="border:solid 1px #ddd;background:#eee;padding:4px 8px"><i class="fa fa-folder-open"></i> 选择图片</button>
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>
</section>
<script>
    $(function () {
        $("#FU_btnFileInput").click(function () {
            $("#FU_fileInput").click();
        });

        $("#FU_fileInput").change(function (e) {
            var file = e.target.files || e.dataTransfer.files;
            var reader = new FileReader();
            reader.onload = function (e) {
                $("#headImage").attr("src", e.target.result);
            }

            reader.readAsDataURL(file[0]);
        })
    })

        var FileUploader = function (argsObj) {

        }


</script>